{
  "description": "Blocks with authenticated user custom limit exceeding default max",
  "setup": {
    "config": {
      "users": [{ "username": "premium", "password": "secret", "limit": 3 }],
      "response": {
        "limit": {
          "default": 1,
          "max": 1
        }
      }
    },
    "recordFiles": [
      {
        "index": 100,
        "count": 1,
        "hapi_version_major": 0,
        "hapi_version_minor": 22,
        "hapi_version_patch": 3,
        "name": "2022-04-27T12_00_00.000000000Z.rcd",
        "prev_hash": "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "consensus_start": "1000000000",
        "consensus_end": "1100000000",
        "hash": "a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
      },
      {
        "index": 101,
        "count": 2,
        "hapi_version_major": 0,
        "hapi_version_minor": 22,
        "hapi_version_patch": 3,
        "name": "2022-04-27T12_01_00.000000000Z.rcd",
        "prev_hash": "a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "consensus_start": "2000000000",
        "consensus_end": "2100000000",
        "hash": "b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
      },
      {
        "index": 102,
        "count": 3,
        "hapi_version_major": 0,
        "hapi_version_minor": 22,
        "hapi_version_patch": 3,
        "name": "2022-04-27T12_02_00.000000000Z.rcd",
        "prev_hash": "b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "consensus_start": "3000000000",
        "consensus_end": "3100000000",
        "hash": "c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
      }
    ]
  },
  "tests": [
    {
      "url": "/api/v1/blocks?block.number=gte:100&block.number=lte:102&limit=3",
      "requestHeaders": {
        "Authorization": "Basic cHJlbWl1bTpzZWNyZXQ="
      },
      "responseStatus": 200,
      "responseHeaders": {},
      "responseJson": {
        "blocks": [
          {
            "count": 3,
            "gas_used": 0,
            "hapi_version": "0.22.3",
            "hash": "0xc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
            "logs_bloom": "0x",
            "name": "2022-04-27T12_02_00.000000000Z.rcd",
            "number": 102,
            "previous_hash": "0xb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
            "size": 6,
            "timestamp": {
              "from": "3.000000000",
              "to": "3.100000000"
            }
          },
          {
            "count": 2,
            "gas_used": 0,
            "hapi_version": "0.22.3",
            "hash": "0xb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
            "logs_bloom": "0x",
            "name": "2022-04-27T12_01_00.000000000Z.rcd",
            "number": 101,
            "previous_hash": "0xa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
            "size": 6,
            "timestamp": {
              "from": "2.000000000",
              "to": "2.100000000"
            }
          },
          {
            "count": 1,
            "gas_used": 0,
            "hapi_version": "0.22.3",
            "hash": "0xa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
            "logs_bloom": "0x",
            "name": "2022-04-27T12_00_00.000000000Z.rcd",
            "number": 100,
            "previous_hash": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
            "size": 6,
            "timestamp": {
              "from": "1.000000000",
              "to": "1.100000000"
            }
          }
        ],
        "links": {
          "next": null
        }
      }
    }
  ]
}
